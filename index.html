<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
   
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Arial, sans-serif;
        }
        
        body {
            background-color: #f8f9fa;
            color: #333;
            line-height: 1.6;
        }
        
        /* Header Styles */
        header {
            background: linear-gradient(135deg, #3498db, #2c3e50);
            padding: 15px 0;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            
        }
        
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: #04273f;
        }
        
       .logo {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 25px;
    font-weight: bold;
}

.logo-icon {
    width: 70px;
    height: 70px;
}

        
        nav ul {
            display: flex;
            list-style: none;
        }
        
        nav ul li {
            margin-left: 20px;
        }
        
        nav ul li a {
            color: rgb(252, 250, 250);
            text-decoration: none;
            padding: 8px 15px;
            border-radius: 4px;
           
        }
        
        nav ul li a:hover {
            color: rgb(119, 234, 249)
        }
        
        /* Hero Section */
        .hero {
            background: url('assets/images/home.jpg');
            background-size: cover;
            background-position: center;
            color: #f8f9fa;
            padding: 100px 0;
            text-align: center;
        }
        
        .hero-content {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .hero h1 {
            font-size: 48px;
            margin-bottom: 20px;
            
        }
        
        .hero p {
            font-size: 20px;
            margin-bottom: 30px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .search-container {
            background: white;
            border-radius: 50px;
            padding: 5px;
            max-width: 600px;
            margin: 0 auto;
           
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .search-box {
            flex-grow: 1;
            padding: 15px 20px;
            border: none;
            border-radius: 50px;
            font-size: 16px;
            outline: none;
        }
        
        .search-btn {
            
            color: rgb(40, 144, 200);
            border: none;
            border-radius: 50px;
            padding: 15px 30px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: background-color 0.3s;
        }
        
        .search-btn:hover {
            background: #19296d;
        }
        
        .hero-stats {
            display: flex;
            justify-content: center;
            margin-top: 50px;
            gap: 40px;
        }
        
        .stat {
            text-align: center;
        }
        
        .stat-number {
            font-size: 36px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 16px;
            opacity: 0.9;
        }
        
        /* Categories Section */
        .section-title {
            text-align: center;
            margin: 60px 0 30px;
            color: #2c3e50;
            position: relative;
        }
        
        .section-title:after {
            content: '';
            display: block;
            width: 80px;
            height: 4px;
            background: #3498db;
            margin: 15px auto;
            border-radius: 2px;
        }
       .categories-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 30px;
}

.category-card {
    height: 260px;
    border-radius: 18px;
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    position: relative;
    overflow: hidden;
    box-shadow: 0 10px 25px rgba(0,0,0,0.15);
    transition: transform 0.3s ease;
}

.category-card:hover {
    transform: translateY(-8px);
}

/* Dark overlay for text readability */
.category-card::before {
    content: "";
    position: absolute;
    inset: 0;
   
}

/* Text content */
.overlay {
    position: absolute;
    bottom: 20px;
    left: 20px;
    right: 20px;
    color: #fff;
    z-index: 1;
}

.overlay h3 {
    font-size: 20px;
    margin-bottom: 8px;
}

.overlay p {
    font-size: 14px;
    line-height: 1.5;
}

       
      .category-card h3 {
    font-size: 18px;
    margin-bottom: 5px;
}

.category-card p {
    font-size: 14px;
    line-height: 1.4;
}
        
        /* Featured Courses */
      .courses-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); /* responsive columns */
    gap: 25px; /* equal spacing between cards */
    margin-bottom: 60px;
}

.course-card {
    display: flex;
    flex-direction: column;
    background-color: white;
    border-radius: 10px;
    overflow: hidden;
    box-shadow: 0 5px 15px rgba(0,0,0,0.05);
    transition: transform 0.3s, box-shadow 0.3s;
    height: 100%; /* make all cards same height */
}

.course-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(0,0,0,0.1);
}

.course-image {
    height: 160px;
    position: relative;
    overflow: hidden;
}

.course-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
    transition: transform 0.3s;
}

.course-card:hover .course-image img {
    transform: scale(1.05);
}

.course-info {
    padding: 20px;
    display: flex;
    flex-direction: column;
    flex-grow: 1; /* ensures all cards stretch equally */
    justify-content: space-between; /* space out info and button */
}
.enroll-btn {
    background-color: #12295e;   /* button color (orange) */
    color: white;
    border: none;
    padding: 14px 20px;          /* increases button size */
    border-radius: 8px;
    cursor: pointer;
    width: 100%;
    font-size: 16px;             /* bigger text */
    font-weight: 600;
    margin-top: 10px;
    transition: background-color 0.3s, transform 0.2s;
}

.enroll-btn:hover {
    background-color: #24b8cb;   /* darker on hover */
    transform: scale(1.03);      /* slight zoom effect */
}


        /* Footer */
        footer {
             background: linear-gradient(135deg, #3498db, #2c3e50);
            color: white;
            padding: 50px 0 20px;
        }
        
        .footer-content {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            margin-bottom: 30px;
        }
        
        .footer-section {
            flex: 1;
            min-width: 200px;
            margin-bottom: 30px;
        }
        
        .footer-section h3 {
            margin-bottom: 20px;
            color: #04273f;
        }
        
        .footer-links {
            list-style: none;
        }
        
        .footer-links li {
            margin-bottom: 10px;
        }
        
        .footer-links a {
            color: #bdc3c7;
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .footer-links a:hover {
            color: white;
        }
        
        .copyright {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid #34495e;
            color: #bdc3c7;
            font-size: 14px;
        }
        
        /* Responsive Design */
        @media (max-width: 992px) {
            .categories-grid,
            .courses-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .hero h1 {
                font-size: 36px;
            }
            
            .hero p {
                font-size: 18px;
            }
        }
        
        @media (max-width: 768px) {
            .nav-container {
                flex-direction: column;
            }
            
            nav ul {
                margin-top: 15px;
            }
            
            .hero-stats {
                flex-direction: column;
                gap: 20px;
            }
        }
        
        @media (max-width: 576px) {
            .categories-grid,
            .courses-grid {
                grid-template-columns: 1fr;
            }
            
            .hero {
                padding: 60px 0;
            }
            
            .hero h1 {
                font-size: 28px;
            }
            
            .hero p {
                font-size: 16px;
            }
            
            .search-container {
                flex-direction: column;
                border-radius: 10px;
            }
            
            .search-box {
                border-radius: 10px 10px 0 0;
            }
            
            .search-btn {
                border-radius: 0 0 10px 10px;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container nav-container">
            <div class="logo">
              <img src="assets/images/logo.jpeg" alt="LearnHub Logo" class="logo-icon">
                LearnHub
            </div>
            <nav>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="course-detail.html">Courses</a></li>
                    <li><a href="instructor-profile.html">Instructors</a></li>
                    <li><a href="dashboard.html">Dashboard</a></li>
                     <li><a href="contact-us.html">Contact Us</a></li>
                    <!-- <li><a href="enrollment-form.html">Enroll</a> -->
                </ul>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container hero-content">
            <h1>ONLINE EDUCATION</h1>
            <h2>Got Talent? Meet Opportunity </h2>
            <h1>Feels like Real Classroom ;)</h1>
            <p><b>start your favourite course</b></p>
            
               
                <button class="search-btn">Register Now</button>
            </div>
            <div class="hero-stats">
                <div class="stat">
                    <div class="stat-number"></div>
                    <div class="stat-label"></div>
                </div>
                <div class="stat">
                    <div class="stat-number"></div>
                    <div class="stat-label"></div>
                </div>
                <div class="stat">
                    <div class="stat-number"></div>
                    <div class="stat-label"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Categories Section -->
    <section class="container">
        <h2 class="section-title">Explore Learning Categories</h2>
      <div class="categories-grid">
   <div class="categories-grid">
    <div class="category-card" style="background-image: url('assets/images/tech.jpg');">
        <div class="card-content">
           
        </div>
    </div>

    <div class="category-card" style="background-image: url('assets/images/buissness.jpg');">
        <div class="card-content">
          
        </div>
    </div>

    <div class="category-card" style="background-image: url('assets/images/art.jpg');">
        <div class="card-content">
           
        </div>
    </div>

    <div class="category-card" style="background-image: url('assets/images/science.jpg');">
        <div class="card-content">
          
        </div>
    </div>

    <div class="category-card" style="background-image: url('assets/images/lang.jpg');">
        <div class="card-content">
         
        </div>
    </div>

    <div class="category-card" style="background-image: url('assets/images/yoga.jpg');">
        <div class="card-content">
           
        </div>
    </div>
</div>

</div>

    </section>

    <!-- Featured Courses -->
    <section class="container">
      <h2 class="section-title">Featured Courses</h2>
<div class="courses-grid">
    <div class="course-card">
        <div class="course-image">
            <img src="assets/images/wellness.jpg" alt="Full Stack Web Development">
        </div>
        <div class="course-info">
            <div class="course-title">Health and Wellness</div>
            <div class="course-instructor">
                <span class="instructor-icon">üë®‚Äçüè´</span>
                By Rajesh Kumar
            </div>
            <div class="course-meta">
                <span>‚≠ê 4.8 (2,450 reviews)</span>
               <br> <span>‚è±Ô∏è 48 hours</span>
            </div>
            <button class="enroll-btn">Enroll Now</button>
        </div>
    </div>

     <div class="course-card">
        <div class="course-image">
            <img src="assets/images/finance.jpg" alt="Full Stack Web Development">
        </div>
        <div class="course-info">
            <div class="course-title">Finance and Trade</div>
            <div class="course-instructor">
                <span class="instructor-icon">üë®‚Äçüè´</span>
                By Sunil Kumar
            </div>
            <div class="course-meta">
                <span>‚≠ê 4.9 (3,450 reviews)</span>
                <br>  <span>‚è±Ô∏è 48 hours</span>
            </div>
            <button class="enroll-btn">Enroll Now</button>
        </div>
    </div>

     <div class="course-card">
        <div class="course-image">
            <img src="assets/images/digitalm.jpg" alt="Full Stack Web Development">
        </div>
        <div class="course-info">
            <div class="course-title">Complete Digital Markting </div>
            <div class="course-instructor">
                <span class="instructor-icon">üë®‚Äçüè´</span>
                By Rakha Gupta
            </div>
            <div class="course-meta">
                <span>‚≠ê 3.8 (2,550 reviews)</span>
              <br>    <span>‚è±Ô∏è 48 hours</span>
            </div>
            <button class="enroll-btn">Enroll Now</button>
        </div>
    </div>

     <div class="course-card">
        <div class="course-image">
            <img src="assets/images/hey.jpg" alt="Full Stack Web Development">
        </div>
        <div class="course-info">
            <div class="course-title">Complete Web Development with MERN Stack</div>
            <div class="course-instructor">
                <span class="instructor-icon">üë®‚Äçüè´</span>
                By Vikas chaudhary
            </div>
            <div class="course-meta">
                <span>‚≠ê 4.8 (4,450 reviews)</span>
              <br>    <span>‚è±Ô∏è 48 hours</span>
            </div>
            <button class="enroll-btn">Enroll Now</button>
        </div>
    </div>

     <div class="course-card">
        <div class="course-image">
            <img src="assets/images/digital.jpg" alt="Full Stack Web Development">
        </div>
        <div class="course-info">
            <div class="course-title">Complete Mobile Development </div>
            <div class="course-instructor">
                <span class="instructor-icon">üë®‚Äçüè´</span>
                By Nancy Sharma 
            </div>
            <div class="course-meta">
                <span>‚≠ê 3.8 (2,440 reviews)</span>
             <br>     <span>‚è±Ô∏è 48 hours</span>
            </div>
            <button class="enroll-btn">Enroll Now</button>
        </div>
    </div>

     <div class="course-card">
        <div class="course-image">
            <img src="assets/images/pexels-karola-g-7693022.jpg" alt="Full Stack Web Development">
        </div>
        <div class="course-info">
            <div class="course-title">Modern Art</div>
            <div class="course-instructor">
                <span class="instructor-icon">üë®‚Äçüè´</span>
                By Amit Dua
            </div>
            <div class="course-meta">
                <span>‚≠ê 4.4 (3,450 reviews)</span>
              <br>    <span>‚è±Ô∏è 48 hours</span>
            </div>
            <button class="enroll-btn">Enroll Now</button>
        </div>
    </div>

    

    <div class="course-card">
        <div class="course-image">
            <img src="assets/images/web.jpg" alt="Data Science">
        </div>
        <div class="course-info">
            <div class="course-title">Python for Data Science & Machine Learning</div>
            <div class="course-instructor">
                <span class="instructor-icon">üë©‚Äçüè´</span>
                By Priya Sharma
            </div>
            <div class="course-meta">
                <span>‚≠ê 4.7 (1,890 reviews)</span>
               <br>   <span>‚è±Ô∏è 42 hours</span>
            </div>
            <button class="enroll-btn">Enroll Now</button>
        </div>
    </div>

    <div class="course-card">
        <div class="course-image">
            <img src="assets/images/pexels-goumbik-669610.jpg" alt="Digital Marketing">
        </div>
        <div class="course-info">
            <div class="course-title">Buisness Management</div>
            <div class="course-instructor">
                <span class="instructor-icon">üë®‚Äçüè´</span>
                By Amit Patel
            </div>
            <div class="course-meta">
                <span>‚≠ê 4.6 (1,560 reviews)</span>
              <br>    <span>‚è±Ô∏è 36 hours</span>
            </div>
            <button class="enroll-btn">Enroll Now</button>
        </div>
    </div>

    <!-- Repeat for other courses, changing the image src and info -->
</div>

    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>LearnHub</h3>
                    <p>India's premier online learning platform dedicated to providing quality education to everyone, everywhere.</p>
                </div>
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="course-detail.html">Browse Courses</a></li>
                        <li><a href="instructor-profile.html">Our Instructors</a></li>
                       <li><a href="contact-us.html">Contact Us</a></li>
                        <!-- <li><a href="enrollment-form.html">Enroll Now</a></li> -->
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Support</h3>
                    <ul class="footer-links">
                        <li><a href="#">Help Center</a></li>
                        <li><a href="#">Contact Us</a></li>
                        <li><a href="#">FAQ</a></li>
                        <li><a href="#">Privacy Policy</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Contact Info</h3>
                    <p>Email: info@learnhub.com</p>
                    <p>Phone: +91 98765 43210</p>
                    <p>Address: 123 Education Street, Mumbai, India</p>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2024 LearnHub. All rights reserved.</p>
            </div>
        </div>
    </footer>
  <script src="enrollment-service.js"></script>
<script>
    // Initialize enrollment service
    document.addEventListener('DOMContentLoaded', () => {
        // Update navigation based on auth state
        updateNavigation();
        
        // Setup enrollment buttons
        setupEnrollmentButtons();
        
        // Update hero button
        setupHeroButton();
        
        // Load courses from API and update UI
        loadCoursesFromAPI();
    });

    // Function to update navigation
    function updateNavigation() {
        const nav = document.querySelector('nav ul');
        if (!nav) return;
        
        const user = enrollmentService.getCurrentUser();
        
        if (user) {
            nav.innerHTML = `
                <li><a href="index.html">Home</a></li>
                <li><a href="course-detail.html">Courses</a></li>
                <li><a href="instructor-profile.html">Instructors</a></li>
                <li><a href="dashboard.html">Dashboard</a></li>
               <li><a href="contact-us.html">Contact Us</a></li>
                <li><a href="#" onclick="logout()" style="color: #ff6b6b;">Logout</a></li>
            `;
        } else {
            nav.innerHTML = `
                <li><a href="index.html">Home</a></li>
                <li><a href="login.html">Login</a></li>
                <li><a href="signup.html">Sign Up</a></li>
            `;
        }
    }

    // Function to load courses from API
    async function loadCoursesFromAPI() {
        try {
            const courses = await enrollmentService.getAllCourses();
            if (courses.length > 0) {
                updateCourseCards(courses);
            }
        } catch (error) {
            console.error('Failed to load courses:', error);
        }
    }

    // Function to update course cards with API data
    function updateCourseCards(courses) {
        const courseGrid = document.querySelector('.courses-grid');
        if (!courseGrid) return;
        
        // Clear existing cards (keep first few for demo)
        const existingCards = courseGrid.querySelectorAll('.course-card');
        if (existingCards.length > courses.length) {
            for (let i = courses.length; i < existingCards.length; i++) {
                existingCards[i].remove();
            }
        }
        
        // Update existing cards with API data
        existingCards.forEach((card, index) => {
            if (courses[index]) {
                const course = courses[index];
                
                // Update image
                const img = card.querySelector('.course-image img');
                if (img && course.image) {
                    img.src = course.image;
                    img.alt = course.title;
                }
                
                // Update title
                const title = card.querySelector('.course-title');
                if (title) {
                    title.textContent = course.title;
                }
                
                // Update instructor
                const instructor = card.querySelector('.course-instructor');
                if (instructor) {
                    const iconSpan = instructor.querySelector('.instructor-icon');
                    instructor.innerHTML = `${iconSpan ? iconSpan.outerHTML : ''} By ${course.instructor}`;
                }
                
                // Update meta
                const meta = card.querySelector('.course-meta');
                if (meta) {
                    meta.innerHTML = `
                        <span>‚≠ê ${course.rating} (${course.students.toLocaleString()} reviews)</span>
                        <br><span>‚è±Ô∏è ${course.duration}</span>
                    `;
                }
                
                // Update enroll button
                const enrollBtn = card.querySelector('.enroll-btn');
                if (enrollBtn) {
                    enrollBtn.setAttribute('data-course-id', course.id);
                    enrollBtn.setAttribute('data-course-title', course.title);
                    enrollBtn.textContent = 'Enroll Now';
                }
            }
        });
    }

    // Function to setup enrollment buttons
    function setupEnrollmentButtons() {
        document.addEventListener('click', async function(e) {
            if (e.target.classList.contains('enroll-btn')) {
                e.preventDefault();
                
                const courseId = e.target.getAttribute('data-course-id');
                const courseTitle = e.target.getAttribute('data-course-title') || 
                                   e.target.closest('.course-card').querySelector('.course-title')?.textContent;
                
                if (!courseId && !courseTitle) {
                    alert('Course information not found');
                    return;
                }
                
                // Check authentication
                if (!enrollmentService.isAuthenticated()) {
                    if (confirm('You need to login to enroll. Go to login page?')) {
                        window.location.href = 'login.html';
                    }
                    return;
                }
                
                // Confirm enrollment
                if (confirm(`Enroll in "${courseTitle}"?`)) {
                    try {
                        // If we have courseId, use it, otherwise find by title
                        let actualCourseId = courseId;
                        if (!actualCourseId) {
                            const course = await enrollmentService.getCourseByTitle(courseTitle);
                            if (!course) {
                                alert('Course not found in database');
                                return;
                            }
                            actualCourseId = course.id;
                        }
                        
                        // Enroll in course
                        await enrollmentService.enrollInCourse(actualCourseId, courseTitle);
                        
                        alert(`Successfully enrolled in "${courseTitle}"! Check your dashboard.`);
                        
                        // Update button text
                        e.target.textContent = 'Enrolled';
                        e.target.disabled = true;
                        e.target.style.backgroundColor = '#28a745';
                        
                        // Redirect to dashboard after 1 second
                        setTimeout(() => {
                            window.location.href = 'dashboard.html';
                        }, 1000);
                        
                    } catch (error) {
                        console.error('Enrollment error:', error);
                        if (error.message.includes('Already enrolled')) {
                            alert('You are already enrolled in this course!');
                            e.target.textContent = 'Already Enrolled';
                            e.target.disabled = true;
                            e.target.style.backgroundColor = '#6c757d';
                        } else {
                            alert('Failed to enroll: ' + error.message);
                        }
                    }
                }
            }
        });
        
        // Check enrollment status for buttons
        checkEnrollmentStatus();
    }

    // Function to check enrollment status
    async function checkEnrollmentStatus() {
        if (!enrollmentService.isAuthenticated()) return;
        
        try {
            const enrollments = await enrollmentService.getUserEnrollments();
            const enrollButtons = document.querySelectorAll('.enroll-btn');
            
            enrollButtons.forEach(button => {
                const courseId = button.getAttribute('data-course-id');
                const courseTitle = button.getAttribute('data-course-title') || 
                                  button.closest('.course-card').querySelector('.course-title')?.textContent;
                
                if (courseId || courseTitle) {
                    const isEnrolled = enrollments.some(enrollment => 
                        enrollment.courseId === courseId || 
                        enrollment.courseTitle === courseTitle
                    );
                    
                    if (isEnrolled) {
                        button.textContent = 'Already Enrolled';
                        button.disabled = true;
                        button.style.backgroundColor = '#6c757d';
                    }
                }
            });
        } catch (error) {
            console.error('Error checking enrollment status:', error);
        }
    }

    // Function to setup hero button
    function setupHeroButton() {
        const registerBtn = document.querySelector('.search-btn');
        if (registerBtn) {
            if (enrollmentService.isAuthenticated()) {
                registerBtn.textContent = 'Browse Courses';
                registerBtn.onclick = () => {
                    window.location.href = 'course-detail.html';
                };
            } else {
                registerBtn.textContent = 'Get Started - Join Now';
                registerBtn.onclick = () => {
                    window.location.href = 'signup.html';
                };
            }
        }
    }

    // Function to handle logout
    function logout() {
        localStorage.removeItem('currentUser');
        window.location.href = 'index.html';
    }

    // Expose logout function globally
    window.logout = logout;
</script>
</body>
</html>